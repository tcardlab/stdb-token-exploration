"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.File = void 0;
exports.convertTsExts = convertTsExts;
const module_1 = require("./module");
class File {
    path;
    content;
    module;
    constructor(path, content, runtime) {
        this.path = path;
        this.content = content;
        if (path.match(/\.tsx?$/)) {
            const code = content.toString('utf8');
            this.module = new module_1.Module(code, this.path, runtime);
            this.content = runtime.compiler.compile(code, undefined, path).code;
            this.path = convertTsExts(path);
        }
    }
}
exports.File = File;
function convertTsExts(path) {
    return path.replace(/\.tsx?$/, '.js');
}
